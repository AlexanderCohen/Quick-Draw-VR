<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello, World! - A-Frame</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.2.0/dist/aframe-physics-system.js"></script>
    <script src="/assets/aframe-super-shooter-kit.js"></script>
  </head>
  <script>
  /**
     * Click mouse to shoot.
     */
    AFRAME.registerComponent('click-to-shoot', {
      init: function () {
        document.body.addEventListener('mousedown', () => { this.el.emit('shoot'); });
      }
    });

    /**
     * Change color when hit.
     */
    AFRAME.registerComponent('hit-handler', {

      init: function () {
        var color;
        var el = this.el;

        el.addEventListener('hit', () => {
          if (!el.flipped){
            this.el.emit(el.id + '_flip-start');
            console.log("Card: " + el.id + " Flipped over" );
            console.log(el);
            console.log(el.material);
          } else {
            this.el.emit(el.id + '_flip-stop')
          }


        });
      }
    });
  </script>

  <body>
    <a-scene physics>

        <a-assets>

            <img src="/assets/images/ace-of-diamonds.png" id="ace">
            <img src="/assets/images/cowboy-hat.png" id="hat">
            <img src="/assets/images/buffalo.png" id="bull">
            <img src="/assets/images/beer.png" id="beer">
            <img src="/assets/images/boot.png" id="boot">
            <img src="/assets/images/cactus.png" id="cactus">
            <img src="/assets/images/dynamite.png" id="dynamite">
            <img src="/assets/images/horse.png" id="horse">
            <img src="/assets/images/ingot.png" id="ingot">
            <img src="/assets/images/map.png" id="map">
            <img src="/assets/images/star.png" id="star">
            <img src="/assets/images/whip.png" id="whip">
            <img src="/assets/images/wild-west.png" id="west">
            <img src="/assets/images/money-bag.png" id="money">

        </a-assets>

        <a-entity id="bulletTemplate" dynamic-body bullet geometry="primitive: sphere; radius: 0.1" material="color: orange"></a-entity>

<!-- basic Grid makeup -->
        <a-cylinder id="left"   static-body position="-4.5 0 -5"  height="6.5" rotation="0 90 0" radius=".175"></a-cylinder>
        <a-cylinder id="top"    static-body position="0 3 -5"     height="9" rotation="90 90 0"  radius=".175" ></a-cylinder>
        <a-cylinder id="right"  static-body position="4.5 0 -5"   height="6.5" rotation="0 90 0" radius=".175" ></a-cylinder>
        <a-cylinder id="bottom" static-body position="0 -3 -5"    height="9" rotation="90 90 0"  radius=".175" ></a-cylinder>

        <a-cylinder id="top H"  static-body position="0 1.5 -5"   height="9" rotation="90 90 0" radius=".175" ></a-cylinder>
        <a-cylinder id="top M"  static-body position="0 -1.5 -5"  height="9" rotation="90 90 0" radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="0 1.5 -5"   height="9" rotation="90 90 0" radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="1.5 0 -5"   height="6" rotation="0 90 0"  radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="-1.5 0 -5"  height="6" rotation="0 90 0"  radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="-3 0 -5"    height="6" rotation="0 90 0"  radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="3 0 -5"     height="6" rotation="0 90 0"  radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="0 0 -5"     height="6" rotation="0 90 0"  radius=".175" ></a-cylinder>
        <a-cylinder id="top B"  static-body position="0 0 -5"     height="9" rotation="90 90 0" radius=".175"></a-cylinder>

<!-- cards top row -->

        <a-entity id="card_1"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="true" position="-3.75 2.25 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-out" direction="alternate" repeat="1" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_2"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-2.25 2.25 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_2_flip-start" end="card_2_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_3"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-.75 2.25 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_3_flip-start" end="card_3_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_4"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position=".75 2.25 -5.5"    hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_4_flip-start" end="card_4_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_5"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="2.25 2.25 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_5_flip-start" end="card_5_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_6"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="3.75 2.25 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_6_flip-start" end="card_6_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
<!-- cards Second row -->
        <a-entity id="card_7"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-3.75 .75 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_7_flip-start" end="card_7_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_8"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-2.25 .75 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_8_flip-start" end="card_8_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_9"   class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-.75 .75 -5.5"    hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_9_flip-start" end="card_9_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_10"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position=".75 .75 -5.5"     hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_11"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="2.25 .75 -5.5"    hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_12"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="3.75 .75 -5.5"    hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
<!-- cards Third  row -->
        <a-entity id="card_13"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-3.75 -.75 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_14"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-2.25 -.75 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_15"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-.75 -.75 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_16"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position=".75 -.75 -5.5"    hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_17"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="2.25 -.75 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_18"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="3.75 -.75 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
<!-- cards Fourth  row -->
        <a-entity id="card_19"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-3.75 -2.25 -5.5" hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_1_flip-start" end="card_1_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_20"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-2.25 -2.25 -5.5" hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_2_flip-start" end="card_2_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_21"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="-.75 -2.25 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_2_flip-start" end="card_2_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_22"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position=".75 -2.25 -5.5"   hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_2_flip-start" end="card_2_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_23"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="2.25 -2.25 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_2_flip-start" end="card_2_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>
        <a-entity id="card_24"  class="target" target="healthPoints: 100" geometry="primitive: box" material="src: #dynamite" static-body flipped="false" position="3.75 -2.25 -5.5"  hit-handler><a-animation attribute="rotation" from="0 0 0" to="720 0 0" dur="650" begin="card_2_flip-start" end="card_2_flip-stop" fill="backwards" easing="ease-in" direction="alternate" repeat="0" onchange="DisplayImage()"></a-animation></a-entity>

        <a-plane id="ground" static-body position="0 -5 -5" rotation="-90 0 0" width="25" height="40" depth="20" color="#7BC8A4"></a-plane>

      <a-sky color="#ECECEC"></a-sky>
      <a-camera id="camera" position="-1 0 0" shooter click-to-shoot><a-cursor></a-cursor></a-camera>


    </a-scene>
  </body>
  <script>
  // var flipped = false;
    // document.addEventListener('click', function () {
    // 	flipped = !flipped;
    //   var el = document.querySelector('#card');
    // 	el.emit(flipped ? 'flip-start' : 'flip-stop');
    //   DisplayImage(el, flipped);
    // });

    function DisplayImage(el, flipped){
      if (flipped) {
        el.setAttribute('material', 'src', '#ace')
      } else {
        el.setAttribute('material', 'src', '#dynamite')
      }
    }
  </script>
</html>
